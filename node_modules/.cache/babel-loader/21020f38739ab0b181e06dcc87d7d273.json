{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/Login/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport NxtThemeContext from '../../Context';\nimport { LoginContainer, LoginForm, NxtWedLogo, InputLabel, UserInput, CheckboxContainer, CheckboxLabel, InputCheckBox, LoginButton, ErrorMsg } from './StyledContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      displayPassword: false,\n      displayErrorMsg: false,\n      errorMsg: ''\n    };\n    this.submitSuccess = jwtToken => {\n      Cookies.set('jwt_token', jwtToken, {\n        expires: 30,\n        path: '/'\n      });\n      const {\n        history\n      } = this.props;\n      history.replace('/');\n    };\n    this.submitFailure = errorMsg => {\n      this.setState(prevState => ({\n        displayErrorMsg: !prevState.displayErrorMsg,\n        errorMsg: {\n          errorMsg\n        }\n      }));\n    };\n    this.postLoginDetails = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const userDetails = {\n        username,\n        password\n      };\n      const url = 'https://apis.ccbp.in/login';\n      const options = {\n        method: 'POST',\n        body: JSON.stringify(userDetails)\n      };\n      const response = await fetch(url, options);\n      const data = await response.json();\n      consol;\n      if (response.ok) {\n        this.submitSuccess(data.jwt_token);\n        this.setState({\n          username: '',\n          password: '',\n          displayErrorMsg: false,\n          displayPassword: false,\n          errorMsg: ''\n        });\n      } else {\n        this.submitFailure(data.error_msg);\n      }\n    };\n    this.updateUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n    this.updatePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n    this.togglePasswordDisplay = () => {\n      this.setState(prevState => ({\n        displayPassword: !prevState.displayPassword\n      }));\n    };\n  }\n  render() {\n    const {\n      username,\n      password,\n      displayPassword,\n      displayErrorMsg,\n      errorMsg\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(NxtThemeContext.Consumer, {\n      children: value => {\n        const {\n          isDarkTheme\n        } = value;\n        return /*#__PURE__*/_jsxDEV(LoginContainer, {\n          onSubmit: this.postLoginDetails,\n          children: /*#__PURE__*/_jsxDEV(LoginForm, {\n            children: [/*#__PURE__*/_jsxDEV(NxtWedLogo, {\n              src: isDarkTheme ? 'https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-dark-theme-img.png' : 'https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png',\n              alt: \"nxt watch logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"user_name\",\n              children: \"USERNAME\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n              type: \"text\",\n              id: \"user_name\",\n              onChange: this.updateUsername,\n              value: username,\n              placeholder: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"password\",\n              children: \"PASSWORD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n              type: displayPassword ? 'text' : 'password',\n              id: \"password\",\n              onChange: this.updatePassword,\n              value: password,\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CheckboxContainer, {\n              children: [/*#__PURE__*/_jsxDEV(InputCheckBox, {\n                id: \"show-password\",\n                type: \"checkbox\",\n                onClick: this.togglePasswordDisplay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CheckboxLabel, {\n                htmlFor: \"show-password\",\n                children: \"Show Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LoginButton, {\n              type: \"submit\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), displayErrorMsg && /*#__PURE__*/_jsxDEV(ErrorMsg, {\n              children: errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["Component","Cookies","NxtThemeContext","LoginContainer","LoginForm","NxtWedLogo","InputLabel","UserInput","CheckboxContainer","CheckboxLabel","InputCheckBox","LoginButton","ErrorMsg","jsxDEV","_jsxDEV","Login","constructor","args","state","username","password","displayPassword","displayErrorMsg","errorMsg","submitSuccess","jwtToken","set","expires","path","history","props","replace","submitFailure","setState","prevState","postLoginDetails","event","preventDefault","userDetails","url","options","method","body","JSON","stringify","response","fetch","data","json","consol","ok","jwt_token","error_msg","updateUsername","target","value","updatePassword","togglePasswordDisplay","render","Consumer","children","isDarkTheme","onSubmit","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","onChange","placeholder","onClick"],"sources":["/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/Login/index.js"],"sourcesContent":["import {Component} from 'react'\n\nimport Cookies from 'js-cookie'\n\nimport NxtThemeContext from '../../Context'\n\nimport {\n  LoginContainer,\n  LoginForm,\n  NxtWedLogo,\n  InputLabel,\n  UserInput,\n  CheckboxContainer,\n  CheckboxLabel,\n  InputCheckBox,\n  LoginButton,\n  ErrorMsg,\n} from './StyledContainer'\n\nclass Login extends Component {\n  state = {\n    username: '',\n    password: '',\n    displayPassword: false,\n    displayErrorMsg: false,\n    errorMsg: '',\n  }\n\n  submitSuccess = jwtToken => {\n    Cookies.set('jwt_token', jwtToken, {\n      expires: 30,\n      path: '/',\n    })\n    const {history} = this.props\n    history.replace('/')\n  }\n\n  submitFailure = errorMsg => {\n    this.setState(prevState => ({\n      displayErrorMsg: !prevState.displayErrorMsg,\n      errorMsg: {errorMsg},\n    }))\n  }\n\n  postLoginDetails = async event => {\n    event.preventDefault()\n    const {username, password} = this.state\n    const userDetails = {\n      username,\n      password,\n    }\n    const url = 'https://apis.ccbp.in/login'\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(userDetails),\n    }\n    const response = await fetch(url, options)\n    const data = await response.json()\n    consol\n    if (response.ok) {\n      this.submitSuccess(data.jwt_token)\n      this.setState({\n        username: '',\n        password: '',\n        displayErrorMsg: false,\n        displayPassword: false,\n        errorMsg: '',\n      })\n    } else {\n      this.submitFailure(data.error_msg)\n    }\n  }\n\n  updateUsername = event => {\n    this.setState({username: event.target.value})\n  }\n\n  updatePassword = event => {\n    this.setState({password: event.target.value})\n  }\n\n  togglePasswordDisplay = () => {\n    this.setState(prevState => ({displayPassword: !prevState.displayPassword}))\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      displayPassword,\n      displayErrorMsg,\n      errorMsg,\n    } = this.state\n    return (\n      <NxtThemeContext.Consumer>\n        {value => {\n          const {isDarkTheme} = value\n          return (\n            <LoginContainer onSubmit={this.postLoginDetails}>\n              <LoginForm>\n                <NxtWedLogo\n                  src={\n                    isDarkTheme\n                      ? 'https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-dark-theme-img.png'\n                      : 'https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png'\n                  }\n                  alt=\"nxt watch logo\"\n                />\n                <InputLabel htmlFor=\"user_name\">USERNAME</InputLabel>\n                <UserInput\n                  type=\"text\"\n                  id=\"user_name\"\n                  onChange={this.updateUsername}\n                  value={username}\n                  placeholder=\"Username\"\n                />\n                <InputLabel htmlFor=\"password\">PASSWORD</InputLabel>\n                <UserInput\n                  type={displayPassword ? 'text' : 'password'}\n                  id=\"password\"\n                  onChange={this.updatePassword}\n                  value={password}\n                  placeholder=\"Password\"\n                />\n                <CheckboxContainer>\n                  <InputCheckBox\n                    id=\"show-password\"\n                    type=\"checkbox\"\n                    onClick={this.togglePasswordDisplay}\n                  />\n                  <CheckboxLabel htmlFor=\"show-password\">\n                    Show Password\n                  </CheckboxLabel>\n                </CheckboxContainer>\n                <LoginButton type=\"submit\">Login</LoginButton>\n                {displayErrorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\n              </LoginForm>\n            </LoginContainer>\n          )\n        }}\n      </NxtThemeContext.Consumer>\n    )\n  }\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}